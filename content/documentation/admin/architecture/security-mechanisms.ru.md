---
title: Механизмы безопасности
weight: 30
---

В DDP реализованы следующие механизмы безопасности для защиты данных и предотвращения несанкционированного доступа.

## HTTP заголовки безопасности

**Компоненты:** DDP Frontend, DDP Backend

**Функции:**
- Защита от XSS атак
- Защита от clickjacking атак
- Предотвращение MIME-sniffing
- Контроль передачи информации о реферере
- Принудительное использование HTTPS

**Реализованные заголовки:**
- Content Security Policy (CSP)
- X-Frame-Options
- X-Content-Type-Options
- X-XSS-Protection
- Referrer-Policy
- Permissions-Policy
- Strict-Transport-Security (HSTS)

**Настройка:** В конфигурации DDP в секции `security.headers`. Подробнее см. в [документации по HTTP заголовкам безопасности](../http-security-headers/).

## Аутентификация

**Компоненты:** Dex (внешний компонент DKP), DDP Backend

**Функции:**
- Аутентификация пользователей
- Выдача токенов доступа
- Проверка токенов доступа

**Принцип работы:**
DDP Backend получает ключи подписи от Dex для проверки JWT токенов пользователей. Dex интегрируется с внешними провайдерами аутентификации (Keycloak, LDAP и др.) через стандартные протоколы (OIDC, LDAP).

**Настройка:** Dex настраивается в составе DKP (Deckhouse Kubernetes Platform). DDP Backend автоматически использует ключи подписи от Dex для проверки токенов.

## Ролевая модель (RBAC)

**Компоненты:** DDP Backend

**Функции:**
- Функция разграничения доступа
- Контроль действий пользователей
- Управление правами доступа к объектам платформы

**Принцип работы:**
Ролевая модель использует иерархическую систему проверки разрешений на уровне супер-администратора, глобальных ролей, ролей ресурсов и ролей сущностей.

**Настройка:** Подробнее см. в [документации по ролевой модели](../rbac/).

## Защита от SQL-инъекций

**Компоненты:** DDP Backend

**Функции:**
- Валидация идентификаторов PostgreSQL
- Экранирование специальных символов в JSONB запросах
- Предотвращение инъекции SQL кода через параметры запросов

**Принцип работы:**
Все идентификаторы базы данных (имена таблиц, колонок) валидируются перед использованием в SQL запросах. Параметры сортировки и фильтрации проверяются на соответствие допустимым значениям.

**Настройка:** Механизм работает автоматически, дополнительная настройка не требуется.

## Валидация данных

**Компоненты:** DDP Backend, DDP Frontend

**Функции:**
- Проверка корректности входных данных
- Валидация полей сущностей
- Предотвращение некорректных операций

**Принцип работы:**
Входные данные валидируются на уровне API с использованием правил валидации. Все операции с данными проверяются на соответствие установленным правилам перед выполнением.

**Настройка:** Механизм работает автоматически, дополнительная настройка не требуется.

## Аудит-логи

**Компоненты:** DDP Backend, PostgreSQL

**Функции:**
- Функция логирования операций пользователей
- Аудит действий через API

**Принцип работы:**
Аудит-логи создаются автоматически для всех HTTP запросов (кроме GET) и содержат информацию о пользователе, IP адресе, endpoint, методе, статусе ответа и теле запроса.

**Настройка:** Подробнее см. в [документации по аудит-логам](../audit-logs/).

