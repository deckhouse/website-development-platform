---
title: Учетные данные AI-провайдеров
---

Система управления учетными данными позволяет безопасно хранить API ключи и другие секретные данные, необходимые для работы с AI-провайдерами. Все данные автоматически шифруются и могут быть использованы в настройках провайдеров через специальные плейсхолдеры.

## Что это такое

При настройке AI-провайдера вам необходимо указать API ключи в заголовках запросов. Вместо того чтобы хранить ключи напрямую в настройках провайдера, вы можете сохранить их в системе управления учетными данными и использовать через плейсхолдеры.

### Зачем это нужно

- **Безопасность**: Все ключи автоматически шифруются перед сохранением
- **Удобство**: Один раз сохранили ключ — используйте его в любом провайдере
- **Гибкость**: Можно добавить любое количество различных ключей
- **Изоляция**: Каждый пользователь видит только свои учетные данные

## Как добавить учетные данные

1. Откройте профиль пользователя (кликните на аватар в правом верхнем углу)
2. Перейдите на вкладку **AI-провайдеры**
3. Нажмите кнопку **Управление учетными данными** на любом провайдере
4. В открывшемся окне нажмите **Добавить**
5. Заполните поля:
   - **Название ключа**: например, `openai_api_key` или `anthropic_api_key`
   - **Значение**: вставьте ваш API ключ (например, `sk-...` для OpenAI)
6. Нажмите **Сохранить**

Вы можете добавить несколько учетных данных с разными названиями. Например:
- `openai_api_key` — для работы с OpenAI
- `anthropic_api_key` — для работы с Anthropic
- `custom_api_key` — для вашего кастомного провайдера

### Редактирование и удаление

- **Редактирование**: Нажмите на название ключа в списке, измените значение и сохраните
- **Удаление**: Нажмите на иконку корзины рядом с нужным ключом

> **Важно**: После сохранения вы не сможете увидеть значение ключа — оно будет скрыто для безопасности. Вы сможете только изменить или удалить его.

## Как использовать в настройках провайдера

После того как вы добавили учетные данные, их можно использовать в заголовках AI-провайдеров.

### Как это работает

Вместо того чтобы указывать API ключ напрямую в заголовке:

```
Authorization: Bearer sk-your-actual-api-key-here
```

Вы можете использовать специальный плейсхолдер:

```
Authorization: Bearer {{credential:openai_api_key}}
```

При выполнении запроса к AI-провайдеру плейсхолдер автоматически заменится на реальное значение ключа, который вы сохранили в системе.

### Примеры использования

**Пример 1: OpenAI провайдер**

1. Добавьте учетные данные:
   - Название: `openai_api_key`
   - Значение: `sk-ваш-ключ-openai`

2. При создании провайдера OpenAI укажите в заголовках:
   ```
   Authorization: Bearer {{credential:openai_api_key}}
   ```

**Пример 2: Anthropic провайдер**

1. Добавьте учетные данные:
   - Название: `anthropic_api_key`
   - Значение: `sk-ant-ваш-ключ-anthropic`

2. При создании провайдера укажите в заголовках:
   ```
   X-API-Key: {{credential:anthropic_api_key}}
   ```

**Пример 3: Кастомный провайдер**

1. Добавьте учетные данные:
   - Название: `my_custom_key`
   - Значение: `ваш-кастомный-ключ`

2. При создании кастомного провайдера используйте в заголовках:
   ```
   Authorization: Bearer {{credential:my_custom_key}}
   Custom-Header: {{credential:my_custom_key}}
   ```

### Формат плейсхолдера

Плейсхолдер должен быть указан в следующем формате:

```
{{credential:название_ключа}}
```

Где `название_ключа` — это то название, которое вы указали при добавлении учетных данных.

> **Важно**: 
> - Название ключа в плейсхолдере должно точно совпадать с названием, которое вы указали при добавлении
> - Регистр имеет значение: `openai_api_key` и `OpenAI_API_Key` — это разные ключи
> - Не используйте пробелы в названии ключа

## Безопасность

### Шифрование данных

Все учетные данные автоматически шифруются перед сохранением. Это означает, что даже администраторы не смогут увидеть ваши API ключи в открытом виде.

### Изоляция данных

- Каждый пользователь видит и может использовать только свои учетные данные
- Учетные данные одного пользователя недоступны другим пользователям
- При удалении пользователя все его учетные данные также удаляются

### Рекомендации по безопасности

1. **Не храните ключи в открытом виде**: Всегда используйте систему управления учетными данными вместо прямого указания ключей в настройках провайдера
2. **Используйте понятные названия**: Давайте понятные названия ключам, чтобы не перепутать их
3. **Регулярно обновляйте ключи**: Если ключ был скомпрометирован, обновите его через интерфейс
4. **Не передавайте ключи**: Никогда не передавайте ваши API ключи другим пользователям или не публикуйте их

## Решение проблем

### Ключ не найден при использовании плейсхолдера

Если при использовании `{{credential:название_ключа}}` вы видите сообщение "Credential not found":

1. **Проверьте название ключа**: Убедитесь, что ключ с таким названием действительно добавлен в "Управление учетными данными"
2. **Проверьте точное совпадение**: Название в плейсхолдере должно точно совпадать с названием ключа (включая регистр букв)
3. **Проверьте пользователя**: Убедитесь, что вы используете учетные данные того же пользователя, который создал провайдер

### Учетные данные не отображаются в интерфейсе

Если список учетных данных пуст или не обновляется:

1. **Обновите страницу**: Попробуйте обновить страницу в браузере
2. **Проверьте консоль**: Откройте консоль разработчика (F12) и проверьте наличие ошибок
3. **Попробуйте добавить заново**: Если проблема сохраняется, попробуйте добавить учетные данные заново

### Плейсхолдеры не заменяются

Если плейсхолдеры в заголовках не заменяются на реальные значения:

1. **Проверьте синтаксис**: Убедитесь, что плейсхолдер указан правильно: `{{credential:название_ключа}}` (без пробелов)
2. **Проверьте наличие ключа**: Убедитесь, что ключ с таким названием существует
3. **Проверьте название**: Убедитесь, что название ключа написано правильно, без опечаток

## Примеры использования

### Пример 1: Настройка OpenAI провайдера

**Шаг 1: Добавление учетных данных**

1. Откройте профиль → AI-провайдеры
2. Нажмите "Управление учетными данными"
3. Добавьте новый ключ:
   - Название: `openai_key`
   - Значение: `sk-proj-ваш-ключ-openai`

**Шаг 2: Настройка провайдера**

1. Создайте новый провайдер типа OpenAI
2. В поле "Заголовки" укажите:
   ```
   Authorization: Bearer {{credential:openai_key}}
   ```
3. Сохраните провайдер

Теперь при использовании AI-агента ключ будет автоматически подставляться из ваших учетных данных.

### Пример 2: Использование нескольких ключей

Вы можете использовать разные ключи для разных провайдеров:

1. **OpenAI провайдер**:
   - Учетное данное: `openai_key`
   - Заголовок: `Authorization: Bearer {{credential:openai_key}}`

2. **Anthropic провайдер**:
   - Учетное данное: `anthropic_key`
   - Заголовок: `X-API-Key: {{credential:anthropic_key}}`

3. **Кастомный провайдер**:
   - Учетное данное: `custom_service_key`
   - Заголовок: `Authorization: Bearer {{credential:custom_service_key}}`

Каждый провайдер будет использовать свой ключ, и все они хранятся в одном месте — в ваших учетных данных.

### Пример 3: Обновление ключа

Если вам нужно обновить API ключ:

1. Откройте "Управление учетными данными"
2. Найдите нужный ключ в списке
3. Нажмите на него для редактирования
4. Введите новое значение
5. Сохраните изменения

Все провайдеры, использующие этот ключ через плейсхолдер, автоматически начнут использовать новое значение.

## Важные замечания

1. **Один ключ — одно название**: Если вы добавите ключ с названием, которое уже существует, старое значение будет заменено новым
2. **Глобальное использование**: Один раз добавили ключ — можете использовать его в любом количестве провайдеров
3. **Только в заголовках**: Плейсхолдеры работают только в заголовках провайдеров, не в теле запроса
4. **Безопасность превыше всего**: Никогда не указывайте API ключи напрямую в настройках провайдера — всегда используйте систему управления учетными данными
